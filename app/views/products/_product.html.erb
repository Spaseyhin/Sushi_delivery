<turbo-frame id="product-<%= product.id %>">
  <% if quantity > 0 %>
    <div class="d-flex align-items-center gap-2 w-100">
      <!-- Кнопка уменьшить -->
      <%= button_to '-', cart_item_path(@cart_items.find { |item| item.product_id == product.id }),
                    method: :patch,
                    params: { change: -1 },
                    data: { turbo_stream: true },
                    form_class: "w-50 m-0 p-0",
                    class: "btn custom-red-btn w-100 fw-bold d-flex align-items-center justify-content-center" %>

      <!-- Количество -->
      <div class="fw-bold text-center" style="min-width: 40px;">
        <%= quantity %>
      </div>

      <!-- Кнопка увеличить -->
      <%= button_to '+', cart_item_path(@cart_items.find { |item| item.product_id == product.id }),
                    method: :patch,
                    params: { change: 1 },
                    data: { turbo_stream: true },
                    form_class: "w-50 m-0 p-0",
                    class: "btn custom-red-btn w-100 fw-bold d-flex align-items-center justify-content-center" %>
    </div>
  <% else %>
    <!-- Кнопка "Добавить" -->
    <%= form_with url: cart_items_path, method: :post, data: { turbo_stream: true } do %>
      <%= hidden_field_tag :product_id, product.id %>
      <%= submit_tag "#{product.price} ₽ ", class: "btn custom-red-btn w-100" %>
    <% end %>
  <% end %>
</turbo-frame>
